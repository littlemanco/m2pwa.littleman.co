<link rel="import" href="../../../polymer/polymer.html" />

<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="app-search-bar">
    <template>
        <style>
            :host {
                display: block;
            }

            paper-input {
                --paper-input-container-color: white;
                --paper-input-container-focus-color: white;
            }

            [icon="search"] {
                display: block;
            }

            [icon="close"],
            paper-input {
                display: none;
            }

            [is-search] [icon="search"] {
                display: none;
            }

            [is-search] paper-input,
            [is-search] [icon="close"] {
                display: inline-block;
            }
        </style>
        <div is-search$="{{isSearch}}">
            <paper-icon-button icon="close" role="button" on-tap="toggleSearch"></paper-icon-button>
            <paper-input id="jsInput" type="text" name="search" placeholder="Search..." autocomplete="off" no-label-float></paper-input>
            <paper-icon-button icon="search" role="button" on-tap="toggleSearch"></paper-icon-button>
        </div>
    </template>
    <script type="text/javascript">
        Polymer({
            is: 'app-search-bar',
            properties: {
                isSearch: {
                    type: Boolean,
                    value: false
                }
            },
            toggleSearch: function() {
                this.isSearch = !this.isSearch

                if (this.isSearch) {
                    this.$.jsInput.focus();
                }
            }
        });
    </script>
</dom-module>
